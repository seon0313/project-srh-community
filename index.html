<!doctype html>
<html lang="en">
    <head>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-HHWHCG3S4W"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            
            gtag('config', 'G-HHWHCG3S4W');
        </script>
        <meta charset="UTF-8" />
        <link rel="icon" type="image/svg+xml" href="/vite.svg" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
        <meta name="theme-color" content="#0f0f0f" />
        <title>서비스명</title>
    </head>

    <body>
        <div id="root"></div>
        <script type="module" src="/src/react-app/main.tsx"></script>
        <script>
            // JWT 연장 API 자동 실행 및 결과 alert
            (async function extendJWT() {
                try {
                    // localStorage 또는 다른 저장소에서 JWT 토큰을 읽어옴
                    const jwtToken = localStorage.getItem('token');
                    if (!jwtToken) {
                        alert('JWT 토큰이 없습니다.');
                        return;
                    }
                    const response = await fetch('/api/extend-jwt', {
                        method: 'POST',
                        credentials: 'include',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ token: jwtToken })
                    });
                    const data = await response.json();
                    alert('JWT 연장 결과: ' + JSON.stringify(data));
                } catch (error) {
                    alert('에러 발생: ' + error);
                }
            })();
        </script>
        <div class="Footer footer">
            <p>개발 / 배포 <a href="https://pages.seon06.co.kr">추윤선</a></p>
            <p><a>개인정보 처리방침</a> | <a>이용약관</a></p>
            <p>© 2023 <a href="https://github.com/seon0313">seon0313</a>. All rights reserved.</p>
        </div>
    </body>
</html>